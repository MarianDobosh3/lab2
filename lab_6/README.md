import math

def calculate_estimate(a, m, b):
    """
    Розраховує оцінку завдання за методом трьох точок.

    Args:
        a (float): Найменша оцінка завдання.
        m (float): Оцінка завдання в середньому.
        b (float): Найбільша оцінка завдання.

    Returns:
        tuple: Оцінка (E) та стандартне відхилення (SD) для завдання.
    """
    E = (a + 4 * m + b) / 6  # Обчислення оцінки E за формулою (a + 4m + b) / 6
    SD = (b - a) / 6  # Обчислення стандартного відхилення SD за формулою (b - a) / 6
    return E, SD

def calculate_project_estimate(tasks):
    """
    Розраховує оцінку проекту та довірчий інтервал.

    Args:
        tasks (list): Список завдань з оцінками (a, m, b).

    Returns:
        tuple: Оцінка проекту (E) та довірчий інтервал (CI) у відсотках.
    """
    total_E = 0  # Змінна для зберігання суми оцінок завдань
    total_SD = 0  # Змінна для зберігання суми стандартних відхилень завдань
    for task in tasks:
        a, m, b = task  # Розпакування оцінок завдання
        E, SD = calculate_estimate(a, m, b)  # Виклик функції calculate_estimate для розрахунку оцінки E та SD для завдання
        total_E += E  # Додавання оцінки завдання до загальної суми
        total_SD += SD  # Додавання стандартного відхилення завдання до загальної суми

    project_E = total_E  # Оцінка проекту - сума оцінок завдань
    project_SD = total_SD  # Стандартне відхилення проекту - сума стандартних відхилень завдань

    CI_min = project_E - 2 * project_SD  # Мінімальне значення довірчого інтервалу за формулою E - 2 * SD
    CI_max = project_E + 2 * project_SD  # Максимальне значення довірчого інтервалу за формулою E + 2 * SD

    return project_E, (CI_min, CI_max)

def main():
    tasks = []  # Список для зберігання завдань

    while True:
        # Введення оцінок завдання від користувача
        a = float(input("Введіть найменшу оцінку завдання: "))
        m = float(input("Введіть середню оцінку завдання: "))
        b = float(input("Введіть найбільшу оцінку завдання: "))

        task = (a, m, b)  # Утворення кортежу з оцінками завдання
        tasks.append(task)  # Додавання завдання до списку

        choice = input("Бажаєте ввести ще одне завдання? (y/n): ")
        if choice.lower() != 'y':
            break

    project_E, (CI_min, CI_max) = calculate_project_estimate(tasks)  # Виклик функції calculate_project_estimate для розрахунку оцінки проекту та довірчого інтервалу

    # Виведення результатів
    print("Оцінка проекту: {:.2f}".format(project_E))
    print("Довірчий інтервал проекту: {:.2f} ... {:.2f}".format(CI_min, CI_max))

if __name__ == '__main__':
    main()
    
# Функція main використовується для отримання від користувача оцінок завдань і виклику функцій розрахунку.
